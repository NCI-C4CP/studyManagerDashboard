/**
 * Country Mapping: Country name, 3-character code (ISO 3166-1 alpha-3), concept ID
 */
const countryData = [
    { name: "Afghanistan", code3: "afg", conceptId: 850988661 },
    { name: "Aland Islands", code3: "ala", conceptId: 840154550 },
    { name: "Albania", code3: "alb", conceptId: 705893573 },
    { name: "Algeria", code3: "dza", conceptId: 948428087 },
    { name: "American Samoa", code3: "asm", conceptId: 618233724 },
    { name: "Andorra", code3: "and", conceptId: 814227464 },
    { name: "Angola", code3: "ago", conceptId: 227078307 },
    { name: "Anguilla", code3: "aia", conceptId: 958395496 },
    { name: "Antarctica", code3: "ata", conceptId: 794247035 },
    { name: "Antigua and Barbuda", code3: "atg", conceptId: 294014693 },
    { name: "Argentina", code3: "arg", conceptId: 333275194 },
    { name: "Armenia", code3: "arm", conceptId: 344766609 },
    { name: "Aruba", code3: "abw", conceptId: 487003566 },
    { name: "Australia", code3: "aus", conceptId: 521321931 },
    { name: "Austria", code3: "aut", conceptId: 208245330 },
    { name: "Azerbaijan", code3: "aze", conceptId: 713805786 },
    { name: "Bahamas", code3: "bhs", conceptId: 148997103 },
    { name: "Bahrain", code3: "bhr", conceptId: 799996283 },
    { name: "Bangladesh", code3: "bgd", conceptId: 721835388 },
    { name: "Barbados", code3: "brb", conceptId: 299126445 },
    { name: "Belarus", code3: "blr", conceptId: 714549111 },
    { name: "Belgium", code3: "bel", conceptId: 230459284 },
    { name: "Belize", code3: "blz", conceptId: 202879015 },
    { name: "Benin", code3: "ben", conceptId: 183520161 },
    { name: "Bermuda", code3: "bmu", conceptId: 170270174 },
    { name: "Bhutan", code3: "btn", conceptId: 589555871 },
    { name: "Bolivia (Plurinational State of)", code3: "bol", conceptId: 448617425 },
    { name: "Bonaire, Sint Eustatius and Saba", code3: "bes", conceptId: 131658361 },
    { name: "Bosnia and Herzegovina", code3: "bih", conceptId: 783769681 },
    { name: "Botswana", code3: "bwa", conceptId: 760941098 },
    { name: "Bouvet Island", code3: "bvt", conceptId: 481978049 },
    { name: "Brazil", code3: "bra", conceptId: 882964022 },
    { name: "British Antarctic Territory", code3: "atb", conceptId: 399492201 },
    { name: "British Indian Ocean Territory", code3: "iot", conceptId: 902344770 },
    { name: "Brunei Darussalam", code3: "brn", conceptId: 959256218 },
    { name: "Bulgaria", code3: "bgr", conceptId: 441424832 },
    { name: "Burkina Faso", code3: "bfa", conceptId: 667794074 },
    { name: "Burundi", code3: "bdi", conceptId: 326914254 },
    { name: "Byelorussian SSR", code3: "bys", conceptId: 411693327 },
    { name: "Cabo Verde", code3: "cpv", conceptId: 959888441 },
    { name: "Cambodia", code3: "khm", conceptId: 123981879 },
    { name: "Cameroon", code3: "cmr", conceptId: 291229603 },
    { name: "Canada", code3: "can", conceptId: 794205182 },
    { name: "Canton and Enderbury Islands", code3: "cte", conceptId: 994855651 },
    { name: "Cayman Islands", code3: "cym", conceptId: 303352825 },
    { name: "Central African Republic", code3: "caf", conceptId: 106368621 },
    { name: "Chad", code3: "tcd", conceptId: 913612617 },
    { name: "Chile", code3: "chl", conceptId: 295785213 },
    { name: "China", code3: "chn", conceptId: 623546496 },
    { name: "Christmas Island", code3: "cxr", conceptId: 176389605 },
    { name: "Cocos (Keeling) Islands", code3: "cck", conceptId: 330168399 },
    { name: "Colombia", code3: "col", conceptId: 150283599 },
    { name: "Comoros", code3: "com", conceptId: 693896863 },
    { name: "Congo", code3: "cog", conceptId: 285845479 },
    { name: "Congo, Democratic Republic of the", code3: "cod", conceptId: 951405762 },
    { name: "Cook Islands", code3: "cok", conceptId: 554939584 },
    { name: "Costa Rica", code3: "cri", conceptId: 601628757 },
    { name: "Cote d'Ivoire", code3: "civ", conceptId: 787648987 },
    { name: "Croatia", code3: "hrv", conceptId: 537560986 },
    { name: "Cuba", code3: "cub", conceptId: 907647407 },
    { name: "Curacao", code3: "cuw", conceptId: 897079279 },
    { name: "Cyprus", code3: "cyp", conceptId: 262261831 },
    { name: "Czechia", code3: "cze", conceptId: 737467433 },
    { name: "Czechoslovakia", code3: "csk", conceptId: 794707854 },
    { name: "Dahomey", code3: "dhy", conceptId: 967860885 },
    { name: "Denmark", code3: "dnk", conceptId: 593729902 },
    { name: "Djibouti", code3: "dji", conceptId: 481101742 },
    { name: "Dominica", code3: "dma", conceptId: 728361002 },
    { name: "Dominican Republic", code3: "dom", conceptId: 392051955 },
    { name: "Dronning Maud Land", code3: "atn", conceptId: 436919389 },
    { name: "Ecuador", code3: "ecu", conceptId: 714922667 },
    { name: "Egypt", code3: "egy", conceptId: 575246057 },
    { name: "El Salvador", code3: "slv", conceptId: 827912537 },
    { name: "Equatorial Guinea", code3: "gnq", conceptId: 723610783 },
    { name: "Eritrea", code3: "eri", conceptId: 809254094 },
    { name: "Estonia", code3: "est", conceptId: 790896268 },
    { name: "Eswatini", code3: "swz", conceptId: 450700271 },
    { name: "Ethiopia", code3: "eth", conceptId: 788910861 },
    { name: "Falkland Islands (Malvinas)", code3: "flk", conceptId: 740704686 },
    { name: "Faroe Islands", code3: "fro", conceptId: 282684754 },
    { name: "Fiji", code3: "fji", conceptId: 883062033 },
    { name: "Finland", code3: "fin", conceptId: 932938375 },
    { name: "France", code3: "fra", conceptId: 360734594 },
    { name: "French Afars and Issas", code3: "afi", conceptId: 535389252 },
    { name: "French Guiana", code3: "guf", conceptId: 193698473 },
    { name: "French Polynesia", code3: "pyf", conceptId: 742184633 },
    { name: "French Southern Territories", code3: "atf", conceptId: 799410640 },
    { name: "Gabon", code3: "gab", conceptId: 276675681 },
    { name: "Gambia", code3: "gmb", conceptId: 279607212 },
    { name: "Georgia", code3: "geo", conceptId: 325119560 },
    { name: "German Democratic Republic", code3: "ddr", conceptId: 610145443 },
    { name: "Germany", code3: "deu", conceptId: 780612099 },
    { name: "Ghana", code3: "gha", conceptId: 656413979 },
    { name: "Gibraltar", code3: "gib", conceptId: 559106731 },
    { name: "Gilbert and Ellice Islands", code3: "gel", conceptId: 996867481 },
    { name: "Greece", code3: "grc", conceptId: 284446097 },
    { name: "Greenland", code3: "grl", conceptId: 736217341 },
    { name: "Grenada", code3: "grd", conceptId: 243581220 },
    { name: "Guadeloupe", code3: "glp", conceptId: 355753084 },
    { name: "Guam", code3: "gum", conceptId: 778149970 },
    { name: "Guatemala", code3: "gtm", conceptId: 931702107 },
    { name: "Guernsey", code3: "ggy", conceptId: 604112428 },
    { name: "Guinea", code3: "gin", conceptId: 258181066 },
    { name: "Guinea-Bissau", code3: "gnb", conceptId: 707293927 },
    { name: "Guyana", code3: "guy", conceptId: 394332730 },
    { name: "Haiti", code3: "hti", conceptId: 247861923 },
    { name: "Heard Island and McDonald Islands", code3: "hmd", conceptId: 314027711 },
    { name: "Holy See", code3: "vat", conceptId: 365963159 },
    { name: "Honduras", code3: "hnd", conceptId: 994945603 },
    { name: "Hong Kong", code3: "hkg", conceptId: 675442806 },
    { name: "Hungary", code3: "hun", conceptId: 608163515 },
    { name: "Iceland", code3: "isl", conceptId: 307039299 },
    { name: "India", code3: "ind", conceptId: 407588445 },
    { name: "Indonesia", code3: "idn", conceptId: 146657449 },
    { name: "Iran (Islamic Republic of)", code3: "irn", conceptId: 184997877 },
    { name: "Iraq", code3: "irq", conceptId: 956773164 },
    { name: "Ireland", code3: "irl", conceptId: 435390912 },
    { name: "Isle of Man", code3: "imn", conceptId: 471124138 },
    { name: "Israel", code3: "isr", conceptId: 893352695 },
    { name: "Italy", code3: "ita", conceptId: 415513416 },
    { name: "Jamaica", code3: "jam", conceptId: 646575069 },
    { name: "Japan", code3: "jpn", conceptId: 578441679 },
    { name: "Jersey", code3: "jey", conceptId: 858533438 },
    { name: "Johnston Island", code3: "jtn", conceptId: 794883510 },
    { name: "Jordan", code3: "jor", conceptId: 872738595 },
    { name: "Kazakhstan", code3: "kaz", conceptId: 359106014 },
    { name: "Kenya", code3: "ken", conceptId: 865130944 },
    { name: "Kiribati", code3: "kir", conceptId: 249259453 },
    { name: "Korea (Democratic People's Republic of)", code3: "prk", conceptId: 928018967 },
    { name: "Korea, Republic of", code3: "kor", conceptId: 768457546 },
    { name: "Kuwait", code3: "kwt", conceptId: 360006866 },
    { name: "Kyrgyzstan", code3: "kgz", conceptId: 510296437 },
    { name: "Lao People's Democratic Republic", code3: "lao", conceptId: 181845623 },
    { name: "Latvia", code3: "lva", conceptId: 548625244 },
    { name: "Lebanon", code3: "lbn", conceptId: 186213845 },
    { name: "Lesotho", code3: "lso", conceptId: 233155848 },
    { name: "Liberia", code3: "lbr", conceptId: 722920826 },
    { name: "Libya", code3: "lby", conceptId: 676601456 },
    { name: "Liechtenstein", code3: "lie", conceptId: 856483344 },
    { name: "Lithuania", code3: "ltu", conceptId: 804230076 },
    { name: "Luxembourg", code3: "lux", conceptId: 570293881 },
    { name: "Macao", code3: "mac", conceptId: 677448625 },
    { name: "Madagascar", code3: "mdg", conceptId: 111135211 },
    { name: "Malawi", code3: "mwi", conceptId: 394839071 },
    { name: "Malaysia", code3: "mys", conceptId: 238299421 },
    { name: "Maldives", code3: "mdv", conceptId: 257211345 },
    { name: "Mali", code3: "mli", conceptId: 195866199 },
    { name: "Malta", code3: "mlt", conceptId: 609124212 },
    { name: "Marshall Islands", code3: "mhl", conceptId: 992291267 },
    { name: "Martinique", code3: "mtq", conceptId: 402100137 },
    { name: "Mauritania", code3: "mrt", conceptId: 612964002 },
    { name: "Mauritius", code3: "mus", conceptId: 751674930 },
    { name: "Mayotte", code3: "myt", conceptId: 315885811 },
    { name: "Mexico", code3: "mex", conceptId: 115843761 },
    { name: "Micronesia (Federated States of)", code3: "fsm", conceptId: 737913249 },
    { name: "Midway Islands", code3: "mid", conceptId: 467388306 },
    { name: "Moldova, Republic of", code3: "mda", conceptId: 500718853 },
    { name: "Monaco", code3: "mco", conceptId: 358729759 },
    { name: "Mongolia", code3: "mng", conceptId: 533302603 },
    { name: "Montenegro", code3: "mne", conceptId: 179966266 },
    { name: "Montserrat", code3: "msr", conceptId: 787809831 },
    { name: "Morocco", code3: "mar", conceptId: 520950687 },
    { name: "Mozambique", code3: "moz", conceptId: 489292258 },
    { name: "Myanmar", code3: "mmr", conceptId: 912770257 },
    { name: "Namibia", code3: "nam", conceptId: 229663661 },
    { name: "Nauru", code3: "nru", conceptId: 597023793 },
    { name: "Nepal", code3: "npl", conceptId: 477888494 },
    { name: "Netherlands", code3: "nld", conceptId: 786642491 },
    { name: "New Caledonia", code3: "ncl", conceptId: 288105260 },
    { name: "New Hebrides", code3: "nhb", conceptId: 500531505 },
    { name: "New Zealand", code3: "nzl", conceptId: 933459343 },
    { name: "Nicaragua", code3: "nic", conceptId: 291934186 },
    { name: "Niger", code3: "ner", conceptId: 483171323 },
    { name: "Nigeria", code3: "nga", conceptId: 963430874 },
    { name: "Niue", code3: "niu", conceptId: 989841129 },
    { name: "Norfolk Island", code3: "nfk", conceptId: 326198039 },
    { name: "North Macedonia", code3: "mkd", conceptId: 169159988 },
    { name: "Northern Mariana Islands", code3: "mnp", conceptId: 148616671 },
    { name: "Norway", code3: "nor", conceptId: 142345918 },
    { name: "Oman", code3: "omn", conceptId: 951382049 },
    { name: "Pacific Islands (Trust Territory)", code3: "pci", conceptId: 375001839 },
    { name: "Pakistan", code3: "pak", conceptId: 793820915 },
    { name: "Palau", code3: "plw", conceptId: 895850605 },
    { name: "Palestine, State of", code3: "pse", conceptId: 335774873 },
    { name: "Panama", code3: "pan", conceptId: 635067390 },
    { name: "Panama Canal Zone", code3: "pcz", conceptId: 406621050 },
    { name: "Papua New Guinea", code3: "png", conceptId: 633740528 },
    { name: "Paraguay", code3: "pry", conceptId: 695313038 },
    { name: "Peru", code3: "per", conceptId: 564796245 },
    { name: "Philippines", code3: "phl", conceptId: 210038417 },
    { name: "Pitcairn", code3: "pcn", conceptId: 809559004 },
    { name: "Poland", code3: "pol", conceptId: 960134562 },
    { name: "Portugal", code3: "prt", conceptId: 602510992 },
    { name: "Puerto Rico", code3: "pri", conceptId: 879259647 },
    { name: "Qatar", code3: "qat", conceptId: 201083438 },
    { name: "Reunion", code3: "reu", conceptId: 854288752 },
    { name: "Romania", code3: "rou", conceptId: 812047427 },
    { name: "Russian Federation", code3: "rus", conceptId: 617654521 },
    { name: "Rwanda", code3: "rwa", conceptId: 278577307 },
    { name: "Saint Barthelemy", code3: "blm", conceptId: 502236449 },
    { name: "Saint Helena, Ascension and Tristan da Cunha", code3: "shn", conceptId: 359034200 },
    { name: "Saint Kitts and Nevis", code3: "kna", conceptId: 306722988 },
    { name: "Saint Lucia", code3: "lca", conceptId: 187433409 },
    { name: "Saint Martin (French Part)", code3: "maf", conceptId: 529971621 },
    { name: "Saint Pierre and Miquelon", code3: "spm", conceptId: 497940213 },
    { name: "Saint Vincent and the Grenadines", code3: "vct", conceptId: 216012641 },
    { name: "Samoa", code3: "wsm", conceptId: 611768724 },
    { name: "San Marino", code3: "smr", conceptId: 166955192 },
    { name: "Sao Tome and Principe", code3: "stp", conceptId: 803323592 },
    { name: "Saudi Arabia", code3: "sau", conceptId: 401441319 },
    { name: "Senegal", code3: "sen", conceptId: 709981397 },
    { name: "Serbia", code3: "srb", conceptId: 706663693 },
    { name: "Seychelles", code3: "syc", conceptId: 667042764 },
    { name: "Sierra Leone", code3: "sle", conceptId: 761993321 },
    { name: "Sikkim", code3: "skm", conceptId: 982400065 },
    { name: "Singapore", code3: "sgp", conceptId: 691987855 },
    { name: "Sint Maarten (Dutch Part)", code3: "sxm", conceptId: 174321703 },
    { name: "Slovakia", code3: "svk", conceptId: 499465239 },
    { name: "Slovenia", code3: "svn", conceptId: 262256978 },
    { name: "Solomon Islands", code3: "slb", conceptId: 691929049 },
    { name: "Somalia", code3: "som", conceptId: 107649642 },
    { name: "South Africa", code3: "zaf", conceptId: 633404785 },
    { name: "South Georgia and the South Sandwich Islands", code3: "sgs", conceptId: 831495016 },
    { name: "South Sudan", code3: "ssd", conceptId: 547241189 },
    { name: "Southern Rhodesia", code3: "rho", conceptId: 290541411 },
    { name: "Spain", code3: "esp", conceptId: 458019527 },
    { name: "Sri Lanka", code3: "lka", conceptId: 905244901 },
    { name: "Sudan", code3: "sdn", conceptId: 409608997 },
    { name: "Suriname", code3: "sur", conceptId: 266326454 },
    { name: "Svalbard and Jan Mayen", code3: "sjm", conceptId: 959293914 },
    { name: "Sweden", code3: "swe", conceptId: 680590144 },
    { name: "Switzerland", code3: "che", conceptId: 805619774 },
    { name: "Syrian Arab Republic", code3: "syr", conceptId: 212392048 },
    { name: "Taiwan, Province of China", code3: "twn", conceptId: 870960085 },
    { name: "Tajikistan", code3: "tjk", conceptId: 736167436 },
    { name: "Tanzania, United Republic of", code3: "tza", conceptId: 249750059 },
    { name: "Thailand", code3: "tha", conceptId: 581659944 },
    { name: "Timor-Leste", code3: "tls", conceptId: 819206475 },
    { name: "Togo", code3: "tgo", conceptId: 858140434 },
    { name: "Tokelau", code3: "tkl", conceptId: 386598060 },
    { name: "Tonga", code3: "ton", conceptId: 939019279 },
    { name: "Trinidad and Tobago", code3: "tto", conceptId: 366067357 },
    { name: "Tunisia", code3: "tun", conceptId: 955466797 },
    { name: "Turkey", code3: "tur", conceptId: 457186566 },
    { name: "Turkmenistan", code3: "tkm", conceptId: 995011901 },
    { name: "Turks and Caicos Islands", code3: "tca", conceptId: 456171191 },
    { name: "Tuvalu", code3: "tuv", conceptId: 579685918 },
    { name: "Uganda", code3: "uga", conceptId: 814359943 },
    { name: "Ukraine", code3: "ukr", conceptId: 859999856 },
    { name: "United Arab Emirates", code3: "are", conceptId: 145241318 },
    { name: "United Kingdom of Great Britain and Northern Ireland", code3: "gbr", conceptId: 156628245 },
    { name: "United States Minor Outlying Islands", code3: "umi", conceptId: 527680552 },
    { name: "United States Miscellaneous Pacific Islands", code3: "pus", conceptId: 160710632 },
    { name: "United States of America", code3: "usa", conceptId: 333208328 },
    { name: "Upper Volta", code3: "hvo", conceptId: 587473515 },
    { name: "Uruguay", code3: "ury", conceptId: 871234413 },
    { name: "Uzbekistan", code3: "uzb", conceptId: 478027242 },
    { name: "Vanuatu", code3: "vut", conceptId: 607648786 },
    { name: "Venezuela (Bolivarian Republic of)", code3: "ven", conceptId: 595309766 },
    { name: "Viet Nam", code3: "vnm", conceptId: 835040610 },
    { name: "Viet-Nam, Democratic Republic of", code3: "vdr", conceptId: 858059214 },
    { name: "Virgin Islands (British)", code3: "vgb", conceptId: 746447615 },
    { name: "Virgin Islands (U.S.)", code3: "vir", conceptId: 139824195 },
    { name: "Wake Island", code3: "wak", conceptId: 766568955 },
    { name: "Wallis and Futuna", code3: "wlf", conceptId: 647661834 },
    { name: "Western Sahara", code3: "esh", conceptId: 173749698 },
    { name: "Yemen", code3: "yem", conceptId: 535551893 },
    { name: "Yemen, Democratic", code3: "ymd", conceptId: 567219545 },
    { name: "Zambia", code3: "zmb", conceptId: 582683814 },
    { name: "Zimbabwe", code3: "zwe", conceptId: 798542346 }
];

// Generate lookup Maps for O(1) access
const countryNameToConceptId = new Map(countryData.map(c => [c.name, c.conceptId]));
const conceptIdToCountryName = new Map(countryData.map(c => [c.conceptId, c.name]));
const countryNameToCountryCode3 = new Map(countryData.filter(c => c.code3).map(c => [c.name, c.code3]));
const countryCode3ToCountryName = new Map(countryData.filter(c => c.code3).map(c => [c.code3, c.name]));

/**
 * Get concept ID from country
 * @param {string} countryName - Country name (e.g., "United States of America")
 * @returns {number|undefined} - 9-digit concept ID or undefined if not found
 */
export const getConceptIdByCountryName = (countryName) => countryNameToConceptId.get(countryName);

/**
 * Get country name from stored concept ID
 * @param {number} conceptId - 9-digit concept ID
 * @returns {string|undefined} - Country name or undefined if not found
 */
export const getCountryNameByConceptId = (conceptId) => conceptIdToCountryName.get(conceptId);

/**
 * Get country name by 3-character code
 * @param {string} code3 - 3-character country code
 * @returns {string|undefined} - Country name or undefined
 */
export const getCountryNameByCode3 = (code3) => countryCode3ToCountryName.get(code3?.toLowerCase());

/**
 * Get 3-character code by country name
 * @param {string} countryName - Country name (case-sensitive)
 * @returns {string|undefined} - 3-character code or undefined
 */
export const getCountryCode3ByCountryName = (countryName) => countryNameToCountryCode3.get(countryName);

/**
 * Get list of all country names (for dropdowns)
 * @returns {string[]} - Array of country names
 */
export const getCountryList = () => countryData.map(c => c.name);

/**
 * Get array of all country data
 * @returns {Object[]} - Copy of array of country objects
 */
export const getCountryData = () => [...countryData];

/**
 * Get list of all 3-character country codes
 * @returns {string[]} - Array of 3-character codes
 */
export const getCountryCode3List = () => countryData.map(c => c.code3);